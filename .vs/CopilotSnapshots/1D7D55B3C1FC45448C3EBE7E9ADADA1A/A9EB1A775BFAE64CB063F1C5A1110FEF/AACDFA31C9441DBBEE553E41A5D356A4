using FluentValidation;
using QuestionarioOnline.Application.DTOs.Requests;

namespace QuestionarioOnline.Application.Validators;

/// <summary>
/// Validador para registrar resposta
/// NOTA: Mantido para referência, mas atualmente usando Data Annotations
/// </summary>
public class RegistrarRespostaRequestValidator : AbstractValidator<RegistrarRespostaRequest>
{
    public RegistrarRespostaRequestValidator()
    {
        RuleFor(x => x.QuestionarioId)
            .NotEmpty().WithMessage("Questionário é obrigatório");

        RuleFor(x => x.Respostas)
            .NotEmpty().WithMessage("Respostas são obrigatórias")
            .Must(respostas => respostas != null && respostas.Count >= 1)
            .WithMessage("Deve ter pelo menos uma resposta");
    }
}
